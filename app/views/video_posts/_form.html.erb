<div>
  <h1>Video post Form</h1>

  <% if @video_post.errors.any? %>
    <div>
      <p><%= flash[:danger] %></p>
      <ul>
        <% @video_post.errors.full_messages.each do |msg| %>
          <li><span><%= msg %></span></li>
        <% end %>
      </ul>
    </div>
  <% end %>


  <%= form_with model: @video_post, local: true do |f| %>
    <% if @video_post.clip.attached? && @video_post.clip.content_type.in?(%(video/mp4)) %>
      <%= video_tag url_for(@video_post.clip), controls: "" %><br>
    <% end %>

    <div>
      <%= f.label :clip, "Share video" %><br>
      <%= f.file_field :clip %>
    </div>

    <%= f.text_area :caption, placeholder: "Share your thoughts", required: true %><br>

    <%= f.submit "Share" %>
  <% end %>
</div>